/**
 *
 * carbon-angular v0.0.0 | carbon-components-angular-modal.umd.min.js
 *
 * Copyright 2014, 2021 IBM
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs/operators"),require("carbon-components-angular/common"),require("@angular/common"),require("carbon-components-angular/forms"),require("carbon-components-angular/i18n"),require("carbon-components-angular/placeholder"),require("carbon-components-angular/experimental"),require("@angular/core"),require("carbon-components-angular/icon")):"function"==typeof define&&define.amd?define("carbon-components-angular/modal",["exports","rxjs/operators","carbon-components-angular/common","@angular/common","carbon-components-angular/forms","carbon-components-angular/i18n","carbon-components-angular/placeholder","carbon-components-angular/experimental","@angular/core","carbon-components-angular/icon"],e):e((t["carbon-components-angular"]=t["carbon-components-angular"]||{},t["carbon-components-angular"].modal={}),t.rxjs.operators,t["carbon-components-angular"].common,t.ng.common,t["carbon-components-angular"].forms,t["carbon-components-angular"].i18n,t["carbon-components-angular"].placeholder,t["carbon-components-angular"].experimental,t.ng.core,t["carbon-components-angular"].icon)}(this,function(t,i,o,e,n,a,r,l,s,c){"use strict";var p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};var d=(m.prototype.closeModal=function(){this.close.emit()},m.decorators=[{type:s.Directive,args:[{selector:"[ibmBaseModal]"}]}],m.propDecorators={close:[{type:s.Output}],open:[{type:s.Input}]},m);function m(){this.close=new s.EventEmitter,this.open=!1}var u,y,g,b,h,f=(p(y=C,g=u=d),y.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v),C.prototype.ngAfterViewInit=function(){if(!this.modalContent)return!1;var t=this.modalContent.nativeElement;t.scrollHeight>t.clientHeight?t.tabIndex=0:t.tabIndex=-1},C.prototype.buttonClicked=function(t){var e=this.buttons[t];e.click&&e.click(),this.closeModal()},C.prototype.dismissModal=function(t){this.onClose&&!1===this.onClose(t)||this.closeModal()},C.decorators=[{type:s.Component,args:[{selector:"ibm-alert-modal",template:'\n\t\t<ibm-modal\n\t\t\t[size]="size"\n\t\t\t[theme]="type"\n\t\t\t[ariaLabel]="title"\n\t\t\t[hasScrollingContent]="hasScrollingContent"\n\t\t\t[open]="open"\n\t\t\t(overlaySelected)="dismissModal(\'overlay\')">\n\t\t\t<ibm-modal-header (closeSelect)="dismissModal(\'close\')">\n\t\t\t\t<p ibmModalHeaderLabel class="bx--type-delta">{{label}}</p>\n\t\t\t\t<p ibmModalHeaderHeading class="bx--type-beta">{{title}}</p>\n\t\t\t</ibm-modal-header>\n\t\t\t<div ibmModalContent #modalContent>\n\t\t\t\t<p [innerHTML]="content"></p>\n\t\t\t</div>\n\t\t\t<ibm-modal-footer *ngIf="buttons.length > 0">\n\t\t\t\t<ng-container *ngFor="let button of buttons; let i = index">\n\t\t\t\t\t<button\n\t\t\t\t\t\t[ibmButton]="button.type"\n\t\t\t\t\t\t(click)="buttonClicked(i)"\n\t\t\t\t\t\t[id]="button.id"\n\t\t\t\t\t\t[attr.modal-primary-focus]="(button.type.indexOf(\'primary\') !== -1 ? \'\' : null)">\n\t\t\t\t\t\t{{button.text}}\n\t\t\t\t\t</button>\n\t\t\t\t</ng-container>\n\t\t\t</ibm-modal-footer>\n\t\t</ibm-modal>\n\t'}]}],C.ctorParameters=function(){return[{type:undefined,decorators:[{type:s.Optional},{type:s.Inject,args:["type"]}]},{type:String,decorators:[{type:s.Optional},{type:s.Inject,args:["label"]}]},{type:String,decorators:[{type:s.Optional},{type:s.Inject,args:["title"]}]},{type:String,decorators:[{type:s.Optional},{type:s.Inject,args:["content"]}]},{type:String,decorators:[{type:s.Optional},{type:s.Inject,args:["size"]}]},{type:Boolean,decorators:[{type:s.Optional},{type:s.Inject,args:["hasScrollingContent"]}]},{type:undefined,decorators:[{type:s.Optional},{type:s.Inject,args:["buttons"]}]},{type:Function,decorators:[{type:s.Optional},{type:s.Inject,args:["close"]}]}]},C.propDecorators={modalContent:[{type:s.ViewChild,args:["modalContent",{"static":!0}]}]},C);function v(){this.constructor=y}function C(t,e,o,n,a,r,l,i){void 0===t&&(t="default"),void 0===r&&(r=null),void 0===l&&(l=[]);var s=u.call(this)||this;s.type=t,s.label=e,s.title=o,s.content=n,s.size=a,s.hasScrollingContent=r,s.buttons=l,s.onClose=i;for(var c=0;c<s.buttons.length;c++){var p=s.buttons[c];p.id||(p.id="alert-modal-button-"+c),p.type||(p.type="secondary")}return s}(b=t.AlertModalType||(t.AlertModalType={}))["default"]="default",b.danger="danger",(h=t.ModalButtonType||(t.ModalButtonType={})).primary="primary",h.secondary="secondary",h.tertiary="tertiary",h.ghost="ghost",h.danger="danger",h.danger_primary="danger--primary";var x=(S.decorators=[{type:s.Component,args:[{selector:"ibm-modal-footer",template:'\n\t\t<footer class="bx--modal-footer">\n\t\t\t<ng-content></ng-content>\n\t\t</footer>\n\t'}]}],S);function S(){}var M=(I.prototype.onClose=function(){this.closeSelect.emit()},I.decorators=[{type:s.Component,args:[{selector:"ibm-modal-header",template:'\n\t\t<header class="{{theme}} bx--modal-header">\n\t\t\t<ng-content></ng-content>\n\t\t\t<button\n\t\t\t\ttype="button"\n\t\t\t\tclass="bx--modal-close"\n\t\t\t\t(click)="onClose()">\n\t\t\t\t<span class="bx--assistive-text">{{ closeLabel }}</span>\n\t\t\t\t<svg ibmIcon="close" size="20" class="bx--modal-close__icon"></svg>\n\t\t\t</button>\n\t\t</header>\n\n\t'}]}],I.ctorParameters=function(){return[{type:a.I18n},{type:l.ExperimentalService}]},I.propDecorators={theme:[{type:s.Input}],closeLabel:[{type:s.Input}],closeSelect:[{type:s.Output}]},I);function I(t,e){this.i18n=t,this.experimental=e,this.theme="default",this.closeLabel=this.i18n.get().MODAL.CLOSE,this.closeSelect=new s.EventEmitter}var E=(L.prototype.create=function(e){var t=this;e=Object.assign({},{inputs:{}},e);var o=Object.keys(e.inputs).map(function(t){return{provide:t,useValue:e.inputs[t]}}),n=s.Injector.create(o),a=this.resolver.resolveComponentFactory(e.component),r=document.activeElement,l=this.placeholderService.createComponent(a,n);return setTimeout(function(){l.instance.open=!0}),l.previouslyFocusedElement=r,l.instance.close.pipe(i.tap(function(){l.instance.open=!1}),i.delay(150)).subscribe(function(){t.placeholderService.destroyComponent(l),L.modalList=L.modalList.filter(function(t){return t!==l})}),l.onDestroy(function(){r.focus()}),L.modalList.push(l),l},L.prototype.show=function(t){return this.create({component:f,inputs:{type:t.type,label:t.label,title:t.title,content:t.content,hasScrollingContent:t.hasScrollingContent||null,size:t.size,buttons:t.buttons||[],close:t.close||function(){}}})},L.prototype.destroy=function(t){void 0===t&&(t=-1),t>=L.modalList.length||0===L.modalList.length||(t<0&&(t=L.modalList.length-1),this.placeholderService.destroyComponent(L.modalList[t]),L.modalList.splice(t,1))},L.modalList=[],L.decorators=[{type:s.Injectable}],L.ctorParameters=function(){return[{type:s.ComponentFactoryResolver},{type:r.PlaceholderService}]},L);function L(t,e){this.resolver=t,this.placeholderService=e}var O=(Object.defineProperty(H.prototype,"modalLabel",{get:function(){return this.ariaLabel},set:function(t){this.ariaLabel=t},enumerable:!0,configurable:!0}),H.prototype.ngOnChanges=function(t){var e=this,o=t.open;o&&(o.currentValue?setTimeout(function(){return e.focusInitialElement()},100):this.trigger&&this.trigger.focus())},H.prototype.ngAfterViewInit=function(){this.focusInitialElement()},H.prototype.handleKeyboardEvent=function(t){switch(t.key){case"Escape":t.stopImmediatePropagation(),this.modalService.destroy(),this.close.emit();break;case"Tab":o.cycleTabs(t,this.modal.nativeElement)}},Object.defineProperty(H.prototype,"shouldShowScrollbar",{get:function(){var t=this.modal?this.modal.nativeElement.querySelector(".bx--modal-content"):null;return!!t&&t.getBoundingClientRect().height<t.scrollHeight},enumerable:!0,configurable:!0}),H.prototype.focusInitialElement=function(){var t=this,e=this.modal.nativeElement.querySelector(this.selectorPrimaryFocus);e&&e.focus?setTimeout(function(){return e.focus()}):0<o.getFocusElementList(this.modal.nativeElement).length?setTimeout(function(){return o.getFocusElementList(t.modal.nativeElement)[0].focus()}):setTimeout(function(){return t.modal.nativeElement.focus()})},H.decorators=[{type:s.Component,args:[{selector:"ibm-modal",template:'\n\t\t<ibm-overlay\n\t\t\t[theme]="theme"\n\t\t\t[open]="open"\n\t\t\t(overlaySelect)="overlaySelected.emit()">\n\t\t\t<div\n\t\t\t\tclass="bx--modal-container"\n\t\t\t\t[ngClass]="{\n\t\t\t\t\t\'bx--modal-container--xs\': size === \'xs\',\n\t\t\t\t\t\'bx--modal-container--sm\': size === \'sm\',\n\t\t\t\t\t\'bx--modal-container--lg\': size === \'lg\'\n\t\t\t\t}"\n\t\t\t\trole="dialog"\n\t\t\t\taria-modal="true"\n\t\t\t\tstyle="z-index:1;"\n\t\t\t\t[attr.aria-label]="ariaLabel"\n\t\t\t\t#modal>\n\t\t\t\t<ng-content></ng-content>\n\t\t\t\t<div\n\t\t\t\t\t*ngIf="hasScrollingContent !== null ? hasScrollingContent : shouldShowScrollbar"\n\t\t\t\t\tclass="bx--modal-content--overflow-indicator">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ibm-overlay>\n\t'}]}],H.ctorParameters=function(){return[{type:E}]},H.propDecorators={size:[{type:s.Input}],theme:[{type:s.Input}],modalLabel:[{type:s.Input}],ariaLabel:[{type:s.Input}],open:[{type:s.Input}],trigger:[{type:s.Input}],hasScrollingContent:[{type:s.Input}],overlaySelected:[{type:s.Output}],close:[{type:s.Output}],modal:[{type:s.ViewChild,args:["modal",{"static":!0}]}],handleKeyboardEvent:[{type:s.HostListener,args:["keydown",["$event"]]}]},H);function H(t){this.modalService=t,this.theme="default",this.ariaLabel="default",this.open=!1,this.hasScrollingContent=null,this.overlaySelected=new s.EventEmitter,this.close=new s.EventEmitter,this.selectorPrimaryFocus="[modal-primary-focus]"}var j=(w.prototype.overlayClick=function(t){t.target===this.overlay.nativeElement&&(t.stopPropagation(),this.overlaySelect.emit(t))},w.decorators=[{type:s.Component,args:[{selector:"ibm-overlay",template:"\n\t\t<section\n\t\t\tclass=\"bx--modal bx--modal-tall\"\n\t\t\t[ngClass]=\"{\n\t\t\t\t'bx--modal--danger': theme === 'danger',\n\t\t\t\t'is-visible': open\n\t\t\t}\"\n\t\t\t(click)=\"overlayClick($event)\"\n\t\t\t#overlay>\n\t\t\t<ng-content></ng-content>\n\t\t</section>\n\t"}]}],w.propDecorators={theme:[{type:s.Input}],open:[{type:s.Input}],overlaySelect:[{type:s.Output}],overlay:[{type:s.ViewChild,args:["overlay",{"static":!0}]}]},w);function w(){this.theme="default",this.open=!1,this.overlaySelect=new s.EventEmitter}var _=(D.decorators=[{type:s.Directive,args:[{selector:"[ibmModalContent]"}]}],D.propDecorators={modalContentClass:[{type:s.HostBinding,args:["class.bx--modal-content"]}],hasForm:[{type:s.HostBinding,args:["class.bx--modal-content--with-form"]},{type:s.Input}]},D);function D(){this.modalContentClass=!0,this.hasForm=!1}var T=(P.decorators=[{type:s.Directive,args:[{selector:"[ibmModalContentText]"}]}],P.propDecorators={modalContentTextClass:[{type:s.HostBinding,args:["class.bx--modal-content__text"]}]},P);function P(){this.modalContentTextClass=!0}var k=(B.decorators=[{type:s.Directive,args:[{selector:"[ibmModalHeaderHeading]"}]}],B.propDecorators={modalHeaderHeadingClass:[{type:s.HostBinding,args:["class.bx--modal-header__heading"]}]},B);function B(){this.modalHeaderHeadingClass=!0}var z=(F.decorators=[{type:s.Directive,args:[{selector:"[ibmModalHeaderLabel]"}]}],F.propDecorators={modalHeaderLabelClass:[{type:s.HostBinding,args:["class.bx--modal-header__label"]}]},F);function F(){this.modalHeaderLabelClass=!0}var q=(A.decorators=[{type:s.NgModule,args:[{declarations:[f,O,M,x,j,_,T,k,z,d],exports:[f,O,M,x,_,T,k,z,d],entryComponents:[f,O,x,M],providers:[E],imports:[e.CommonModule,n.ButtonModule,a.I18nModule,r.PlaceholderModule,l.ExperimentalModule,c.IconModule]}]}],A);function A(){}t.AlertModal=f,t.BaseModal=d,t.ModalFooter=x,t.ModalHeader=M,t.Modal=O,t.ModalModule=q,t.ModalService=E,t.Overlay=j,t.ModalContent=_,t.ModalContentText=T,t.ModalHeaderHeading=k,t.ModalHeaderLabel=z,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=carbon-components-angular-modal.umd.min.js.map