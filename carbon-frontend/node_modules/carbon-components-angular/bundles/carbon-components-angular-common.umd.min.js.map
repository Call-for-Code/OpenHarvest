{"version":3,"sources":["ng://carbon-components-angular/common/tab.service.ts","ng://carbon-components-angular/common/utils.ts"],"sourcesContent":["export let tabbableSelector = \"a[href], area[href], input:not([disabled]):not([tabindex=\\'-1\\']), \" +\n\t\t\"button:not([disabled]):not([tabindex=\\'-1\\']),select:not([disabled]):not([tabindex=\\'-1\\']), \" +\n\t\t\"textarea:not([disabled]):not([tabindex=\\'-1\\']), \" +\n\t\t\"iframe, object, embed, *[tabindex]:not([tabindex=\\'-1\\']), *[contenteditable=true]\";\n\nexport let tabbableSelectorIgnoreTabIndex = \"a[href], area[href], input:not([disabled]), \" +\n\t\t\"button:not([disabled]),select:not([disabled]), \" +\n\t\t\"textarea:not([disabled]), \" +\n\t\t\"iframe, object, embed, *[tabindex], *[contenteditable=true]\";\n\nexport function getFocusElementList(element, selector = tabbableSelector) {\n\tlet elements = element.querySelectorAll(selector);\n\treturn elements ? Array.prototype.filter.call(elements, el => isVisible(el)) : elements;\n}\n\nexport function isFocusInFirstItem(event, list) {\n\tif (list.length > 0) {\n\t\treturn (event.target || event.srcElement) === list[0];\n\t}\n\treturn false;\n}\n\nexport function isFocusInLastItem(event, list) {\n\tif (list.length > 0) {\n\t\treturn (event.target || event.srcElement) === list[list.length - 1];\n\t}\n\treturn false;\n}\n\nexport function isElementFocused(event, element) {\n\treturn (event.target || event.srcElement) === element;\n}\n\nexport function focusFirstFocusableElement(list) {\n\tif (list.length > 0) {\n\t\tlist[0].focus();\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nexport function focusLastFocusableElement(list) {\n\tif (list.length > 0) {\n\t\tlist[list.length - 1].focus();\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nexport function isVisible(element) {\n\treturn !!(element.offsetWidth || element.offsetHeight || element.getClientRects().length);\n}\n\nexport function cycleTabs(event, element) {\n\tif (event.key === \"Tab\") {\n\t\tlet list = getFocusElementList(element);\n\t\tlet focusChanged = false;\n\n\t\tif (event.shiftKey) {\n\t\t\tif (isFocusInFirstItem(event, list) || isElementFocused(event, element)) {\n\t\t\t\tfocusChanged = focusLastFocusableElement(list);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isFocusInLastItem(event, list)) {\n\t\t\t\tfocusChanged = focusFirstFocusableElement(list);\n\t\t\t}\n\t\t}\n\n\t\tif (focusChanged) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\t}\n}\n","/**\n * Does what python's `range` function does, with a slightly different\n * signature because of Typescript limitations.\n *\n * Useful for numbered loops in angular templates, since we can do\n * a normal for loop.\n *\n * @export\n * @param stop Generate numbers up to, but not including this number\n * @param [start=0] Starting number of the sequence\n * @param [step=1] Difference between each number in the sequence\n * @returns an array with resulting numbers\n */\nexport function range(stop: number, start = 0, step = 1) {\n\treturn Array(Math.ceil((stop - start) / step)).fill(0).map((x, i) => i * step + start);\n}\n"],"names":["tabbableSelector","getFocusElementList","element","selector","elements","querySelectorAll","Array","prototype","filter","call","isVisible","isFocusInFirstItem","event","list","length","target","srcElement","isFocusInLastItem","isElementFocused","focusFirstFocusableElement","focus","focusLastFocusableElement","offsetWidth","offsetHeight","getClientRects","focusChanged","key","shiftKey","preventDefault","stopPropagation","stop","start","step","Math","ceil","fill","map","x","i"],"mappings":"iUAAWA,EAAmB,4RAU9B,SAAgBC,EAAoBC,EAASC,QAAA,IAAAA,IAAAA,EAAAH,GAC5C,IAAII,EAAWF,EAAQG,iBAAiBF,GACxC,OAAOC,EAAWE,MAAMC,UAAUC,OAAOC,KAAKL,EAAgBM,GAAiBN,EAGhF,SAAgBO,EAAmBC,EAAOC,GACzC,OAAkB,EAAdA,EAAKC,SACAF,EAAMG,QAAUH,EAAMI,cAAgBH,EAAK,GAKrD,SAAgBI,EAAkBL,EAAOC,GACxC,OAAkB,EAAdA,EAAKC,SACAF,EAAMG,QAAUH,EAAMI,cAAgBH,EAAKA,EAAKC,OAAS,GAKnE,SAAgBI,EAAiBN,EAAOV,GACvC,OAAQU,EAAMG,QAAUH,EAAMI,cAAgBd,EAG/C,SAAgBiB,EAA2BN,GAC1C,OAAkB,EAAdA,EAAKC,SACRD,EAAK,GAAGO,SACD,GAKT,SAAgBC,EAA0BR,GACzC,OAAkB,EAAdA,EAAKC,SACRD,EAAKA,EAAKC,OAAS,GAAGM,SACf,GAKT,SAAgBV,EAAUR,GACzB,SAAUA,EAAQoB,aAAepB,EAAQqB,cAAgBrB,EAAQsB,iBAAiBV,Q,YAGnF,SAA0BF,EAAOV,GAChC,IACKW,EACAY,EAFa,QAAdb,EAAMc,MACLb,EAAOZ,EAAoBC,GAC3BuB,GAAe,EAEfb,EAAMe,UACLhB,EAAmBC,EAAOC,IAASK,EAAiBN,EAAOV,MAC9DuB,EAAeJ,EAA0BR,IAGtCI,EAAkBL,EAAOC,KAC5BY,EAAeN,EAA2BN,IAIxCY,IACHb,EAAMgB,iBACNhB,EAAMiB,qB,2NAjEmC,mL,QCQ5C,SAAsBC,EAAcC,EAAWC,GAC9C,YADmC,IAAAD,IAAAA,EAAA,QAAW,IAAAC,IAAAA,EAAA,GACvC1B,MAAM2B,KAAKC,MAAMJ,EAAOC,GAASC,IAAOG,KAAK,GAAGC,IAAI,SAACC,EAAGC,GAAM,OAAAA,EAAIN,EAAOD,K"}