{"version":3,"file":"carbon-components-angular-search.umd.js.map","sources":["ng://carbon-components-angular/search/search.component.ts","ng://carbon-components-angular/search/search.module.ts","ng://carbon-components-angular/search/carbon-components-angular-search.ts"],"sourcesContent":["import {\n\tComponent,\n\tInput,\n\tEventEmitter,\n\tOutput,\n\tHostBinding,\n\tElementRef,\n\tHostListener,\n\tViewChild\n} from \"@angular/core\";\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from \"@angular/forms\";\nimport { I18n } from \"carbon-components-angular/i18n\";\n\n/**\n * [See demo](../../?path=/story/search--basic)\n *\n * <example-url>../../iframe.html?id=search--basic</example-url>\n */\n@Component({\n\tselector: \"ibm-search\",\n\ttemplateUrl: \"search.component.html\",\n\tproviders: [\n\t\t{\n\t\t\tprovide: NG_VALUE_ACCESSOR,\n\t\t\tuseExisting: Search,\n\t\t\tmulti: true\n\t\t}\n\t]\n})\nexport class Search implements ControlValueAccessor {\n\t/**\n\t * Variable used for creating unique ids for search components.\n\t */\n\tstatic searchCount = 0;\n\n\t@HostBinding(\"class.bx--form-item\") get containerClass() { return !this.toolbar; }\n\n\t/**\n\t * `light` or `dark` search theme.\n\t */\n\t@Input() theme: \"light\" | \"dark\" = \"dark\";\n\t/**\n\t * Size of the search field.\n\t */\n\n\t@Input() set size(value: \"sm\" | \"md\" | \"xl\") {\n\t\tthis._size = value;\n\t}\n\n\tget size(): \"sm\" | \"md\" | \"xl\" {\n\t\treturn this._size;\n\t}\n\t/**\n\t * Set to `true` for a disabled search input.\n\t */\n\t@Input() disabled = false;\n\t/**\n\t * Set to `true` for a toolbar search component.\n\t */\n\t@Input() toolbar = false;\n\t/**\n\t * Set to `true` for a loading search component.\n\t */\n\t@Input() skeleton = false;\n\t/**\n\t * Set to `true` to expand the toolbar search component.\n\t */\n\t@Input() active = false;\n\t/**\n\t * Specifies whether the search component is used in the table toolbar.\n\t */\n\t@Input() tableSearch = false;\n\t/**\n\t * Sets the name attribute on the `input` element.\n\t */\n\t@Input() name: string;\n\t/**\n\t * The unique id for the search component.\n\t */\n\t@Input() id = `search-${Search.searchCount}`;\n\t/**\n\t * Reflects the required attribute of the `input` element.\n\t */\n\t@Input() required: boolean;\n\t/**\n\t * Sets the value attribute on the `input` element.\n\t */\n\t@Input() value = \"\";\n\t/**\n\t * Sets the autocomplete attribute on the `input` element.\n\t * For reference: https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete#Values\n\t */\n\t@Input() autocomplete = \"on\";\n\t/**\n\t * Sets the text inside the `label` tag.\n\t */\n\t@Input() label = this.i18n.get().SEARCH.LABEL;\n\t/**\n\t * Sets the placeholder attribute on the `input` element.\n\t */\n\t@Input() placeholder = this.i18n.get().SEARCH.PLACEHOLDER;\n\t/**\n\t * Used to set the `title` attribute of the clear button.\n\t */\n\t@Input() clearButtonTitle = this.i18n.get().SEARCH.CLEAR_BUTTON;\n\t/**\n\t * Title for the search trigger\n\t */\n\t@Input() searchTitle = \"\";\n\t/**\n\t * Sets the aria label on the `div` element with the `search` role.\n\t */\n\t@Input() ariaLabel: string;\n\t/**\n\t * Emits an event when value is changed.\n\t */\n\t@Output() valueChange = new EventEmitter<string>();\n\t@Output() open = new EventEmitter<boolean>();\n\t/**\n\t * Emits an event when the clear button is clicked.\n\t */\n\t@Output() clear = new EventEmitter();\n\t/**\n\t * Emits an event on enter.\n\t */\n\t@Output() search = new EventEmitter<string>();\n\n\t// @ts-ignore\n\t@ViewChild(\"input\", { static: false }) inputRef: ElementRef;\n\n\tprotected _size: \"sm\" | \"md\" | \"xl\" = \"md\";\n\n\t/**\n\t * Creates an instance of `Search`.\n\t * @param i18n The i18n translations.\n\t */\n\tconstructor(protected elementRef: ElementRef, protected i18n: I18n) {\n\t\tSearch.searchCount++;\n\t}\n\n\t/**\n\t * This is the initial value set to the component\n\t * @param value The input value.\n\t */\n\tpublic writeValue(value: any) {\n\t\tthis.value = value;\n\t}\n\n\t/**\n\t * Sets a method in order to propagate changes back to the form.\n\t */\n\tpublic registerOnChange(fn: any) {\n\t\tthis.propagateChange = fn;\n\t}\n\n\t/**\n\t * Registers a callback to be triggered when the control has been touched.\n\t * @param fn Callback to be triggered when the search input is touched.\n\t */\n\tpublic registerOnTouched(fn: any) {\n\t\tthis.onTouched = fn;\n\t}\n\n\t/**\n\t * Called when search input is blurred. Needed to properly implement `ControlValueAccessor`.\n\t */\n\tonTouched: () => any = () => {};\n\n\t/**\n\t * Method set in `registerOnChange` to propagate changes back to the form.\n\t */\n\tpropagateChange = (_: any) => {};\n\n\t/**\n\t * Called when text is written in the input.\n\t * @param search The input text.\n\t */\n\tonSearch(search: string) {\n\t\tthis.value = search;\n\t\tthis.doValueChange();\n\t}\n\n\t/**\n\t * Called on enter.\n\t */\n\tonEnter() {\n\t\tthis.search.emit(this.value);\n\t}\n\n\t/**\n\t * Called when clear button is clicked.\n\t */\n\tclearSearch(): void {\n\t\tthis.value = \"\";\n\t\tthis.clear.emit();\n\t\tthis.propagateChange(this.value);\n\t}\n\n\tdoValueChange() {\n\t\tthis.valueChange.emit(this.value);\n\t\tthis.propagateChange(this.value);\n\t}\n\n\topenSearch() {\n\t\tthis.active = true;\n\t\tthis.open.emit(this.active);\n\t\tsetTimeout(() => this.inputRef.nativeElement.focus());\n\t}\n\n\t@HostListener(\"keydown\", [\"$event\"])\n\tkeyDown(event: KeyboardEvent) {\n\t\tif (this.toolbar) {\n\t\t\tif (event.key === \"Escape\") {\n\t\t\t\tthis.active = false;\n\t\t\t} else if (event.key === \"Enter\") {\n\t\t\t\tthis.openSearch();\n\t\t\t}\n\t\t}\n\t}\n\n\t@HostListener(\"focusout\", [\"$event\"])\n\tfocusOut(event) {\n\t\tthis.onTouched();\n\t\tif (this.toolbar &&\n\t\t\tthis.inputRef &&\n\t\t\tthis.inputRef.nativeElement.value === \"\" &&\n\t\t\tevent.relatedTarget === null) {\n\t\t\tthis.active = false;\n\t\t\tthis.open.emit(this.active);\n\t\t}\n\t}\n}\n","// modules\nimport { NgModule } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { CommonModule } from \"@angular/common\";\n\n// imports\nimport { I18nModule } from \"carbon-components-angular/i18n\";\nimport { Search } from \"./search.component\";\nimport { IconModule } from \"carbon-components-angular/icon\";\n\n@NgModule({\n\tdeclarations: [\n\t\tSearch\n\t],\n\texports: [\n\t\tSearch\n\t],\n\timports: [\n\t\tFormsModule,\n\t\tCommonModule,\n\t\tI18nModule,\n\t\tIconModule\n\t]\n})\nexport class SearchModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i18n","EventEmitter","Component","NG_VALUE_ACCESSOR","ElementRef","I18n","HostBinding","Input","Output","ViewChild","HostListener","NgModule","FormsModule","CommonModule","I18nModule","IconModule"],"mappings":";;;;;;IAaA;;;;;AAKA;;;;;QAsHC,gBAAsB,UAAsB,EAAYA,OAAU;YAA5C,eAAU,GAAV,UAAU,CAAY;YAAY,SAAI,GAAJA,OAAI,CAAM;;;;YAhGzD,UAAK,GAAqB,MAAM,CAAC;;;;YAejC,aAAQ,GAAG,KAAK,CAAC;;;;YAIjB,YAAO,GAAG,KAAK,CAAC;;;;YAIhB,aAAQ,GAAG,KAAK,CAAC;;;;YAIjB,WAAM,GAAG,KAAK,CAAC;;;;YAIf,gBAAW,GAAG,KAAK,CAAC;;;;YAQpB,OAAE,GAAG,YAAU,MAAM,CAAC,WAAa,CAAC;;;;YAQpC,UAAK,GAAG,EAAE,CAAC;;;;;YAKX,iBAAY,GAAG,IAAI,CAAC;;;;YAIpB,UAAK,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;;;;YAIrC,gBAAW,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC;;;;YAIjD,qBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC;;;;YAIvD,gBAAW,GAAG,EAAE,CAAC;;;;YAQhB,gBAAW,GAAG,IAAIC,iBAAY,EAAU,CAAC;YACzC,SAAI,GAAG,IAAIA,iBAAY,EAAW,CAAC;;;;YAInC,UAAK,GAAG,IAAIA,iBAAY,EAAE,CAAC;;;;YAI3B,WAAM,GAAG,IAAIA,iBAAY,EAAU,CAAC;YAKpC,UAAK,GAAuB,IAAI,CAAC;;;;YAoC3C,cAAS,GAAc,eAAQ,CAAC;;;;YAKhC,oBAAe,GAAG,UAAC,CAAM,KAAO,CAAC;YAlChC,MAAM,CAAC,WAAW,EAAE,CAAC;SACrB;QAvGD,sBAAwC,kCAAc;iBAAtD,cAA2D,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;;;WAAA;QAUlF,sBAAa,wBAAI;iBAIjB;gBACC,OAAO,IAAI,CAAC,KAAK,CAAC;aAClB;;;;iBAND,UAAkB,KAAyB;gBAC1C,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;aACnB;;;WAAA;;;;;QAiGM,2BAAU,GAAjB,UAAkB,KAAU;YAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;SACnB;;;;QAKM,iCAAgB,GAAvB,UAAwB,EAAO;YAC9B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;SAC1B;;;;;QAMM,kCAAiB,GAAxB,UAAyB,EAAO;YAC/B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;SACpB;;;;;QAgBD,yBAAQ,GAAR,UAAS,MAAc;YACtB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;YACpB,IAAI,CAAC,aAAa,EAAE,CAAC;SACrB;;;;QAKD,wBAAO,GAAP;YACC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC7B;;;;QAKD,4BAAW,GAAX;YACC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YAClB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACjC;QAED,8BAAa,GAAb;YACC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAClC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACjC;QAED,2BAAU,GAAV;YAAA,iBAIC;YAHA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC5B,UAAU,CAAC,cAAM,OAAA,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,EAAE,GAAA,CAAC,CAAC;SACtD;QAGD,wBAAO,GADP,UACQ,KAAoB;YAC3B,IAAI,IAAI,CAAC,OAAO,EAAE;gBACjB,IAAI,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;oBAC3B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;iBACpB;qBAAM,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,EAAE;oBACjC,IAAI,CAAC,UAAU,EAAE,CAAC;iBAClB;aACD;SACD;QAGD,yBAAQ,GADR,UACS,KAAK;YACb,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,IAAI,CAAC,OAAO;gBACf,IAAI,CAAC,QAAQ;gBACb,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,KAAK,EAAE;gBACxC,KAAK,CAAC,aAAa,KAAK,IAAI,EAAE;gBAC9B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBACpB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC5B;SACD;;;;QArMM,kBAAW,GAAG,CAAC,CAAC;;oBAfvBC,cAAS,SAAC;wBACV,QAAQ,EAAE,YAAY;wBACtB,oxDAAoC;wBACpC,SAAS,EAAE;4BACV;gCACC,OAAO,EAAEC,uBAAiB;gCAC1B,WAAW,EAAE,MAAM;gCACnB,KAAK,EAAE,IAAI;6BACX;yBACD;qBACD;;;;;wBAtBAC,eAAU;wBAKFC,SAAI;;;;qCAwBXC,gBAAW,SAAC,qBAAqB;4BAKjCC,UAAK;2BAKLA,UAAK;+BAULA,UAAK;8BAILA,UAAK;+BAILA,UAAK;6BAILA,UAAK;kCAILA,UAAK;2BAILA,UAAK;yBAILA,UAAK;+BAILA,UAAK;4BAILA,UAAK;mCAKLA,UAAK;4BAILA,UAAK;kCAILA,UAAK;uCAILA,UAAK;kCAILA,UAAK;gCAILA,UAAK;kCAILC,WAAM;2BACNA,WAAM;4BAINA,WAAM;6BAINA,WAAM;+BAGNC,cAAS,SAAC,OAAO,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;8BAiFpCC,iBAAY,SAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;+BAWlCA,iBAAY,SAAC,UAAU,EAAE,CAAC,QAAQ,CAAC;;QAWrC,aAAC;KArND;;IClBA;AACA;QASA;SAc6B;;oBAd5BC,aAAQ,SAAC;wBACT,YAAY,EAAE;4BACb,MAAM;yBACN;wBACD,OAAO,EAAE;4BACR,MAAM;yBACN;wBACD,OAAO,EAAE;4BACRC,iBAAW;4BACXC,mBAAY;4BACZC,eAAU;4BACVC,eAAU;yBACV;qBACD;;QAC2B,mBAAC;KAd7B;;ICVA;;OAEG;;;;;;;;;;;;;"}
