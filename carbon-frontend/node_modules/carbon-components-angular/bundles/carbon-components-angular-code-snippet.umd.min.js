/**
 *
 * carbon-angular v0.0.0 | carbon-components-angular-code-snippet.umd.min.js
 *
 * Copyright 2014, 2021 IBM
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common"),require("carbon-components-angular/icon"),require("carbon-components-angular/i18n")):"function"==typeof define&&define.amd?define("carbon-components-angular/code-snippet",["exports","@angular/core","@angular/forms","@angular/common","carbon-components-angular/icon","carbon-components-angular/i18n"],n):n((t["carbon-components-angular"]=t["carbon-components-angular"]||{},t["carbon-components-angular"]["code-snippet"]={}),t.ng.core,t.ng.forms,t.ng.common,t["carbon-components-angular"].icon,t["carbon-components-angular"].i18n)}(this,function(t,n,e,o,i,a){"use strict";var s,p;(p=s=s||{}).single="single",p.multi="multi",p.inline="inline";var l=(Object.defineProperty(r.prototype,"snippetSingleClass",{get:function(){return this.display===s.single},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"snippetMultiClass",{get:function(){return this.display===s.multi},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"snippetInlineClass",{get:function(){return this.display===s.inline},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"snippetInlineLightClass",{get:function(){return this.display===s.inline&&"light"===this.theme},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"btnCopyClass",{get:function(){return this.display===s.inline},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayStyle",{get:function(){return this.display!==s.inline?"block":null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"attrType",{get:function(){return this.display===s.inline?"button":null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"shouldShowExpandButton",{get:function(){return null===this.hasExpandButton?this.hasExpandButton:this.canExpand()},enumerable:!0,configurable:!0}),r.prototype.toggleSnippetExpansion=function(){this.expanded=!this.expanded},r.prototype.copyCode=function(){var t=document.createElement("textarea");t.value=this.code.nativeElement.innerText||this.code.nativeElement.textContent,t.setAttribute("readonly",""),t.style.position="absolute",t.style.right="-99999px",document.body.appendChild(t);var n=document.getSelection().rangeCount?document.getSelection().getRangeAt(0):null;t.select(),document.execCommand("copy"),document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))},r.prototype.onCopyButtonClicked=function(){var t=this;this.copyCode(),this.showFeedback=!0,setTimeout(function(){t.showFeedback=!1},this.feedbackTimeout)},r.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.canExpand()?t.hasExpandButton=!0:t.hasExpandButton=!1})},r.prototype.hostClick=function(){this.display===s.inline&&this.onCopyButtonClicked()},r.prototype.canExpand=function(){return this.code&&255<this.code.nativeElement.getBoundingClientRect().height&&"multi"===this.display},r.codeSnippetCount=0,r.decorators=[{type:n.Component,args:[{selector:"ibm-code-snippet",template:'\n\t\t<ng-container *ngIf="display === \'inline\'; else notInline">\n\t\t\t<ng-container *ngTemplateOutlet="codeTemplate"></ng-container>\n\t\t\t<ng-container *ngTemplateOutlet="feedbackTemplate"></ng-container>\n\t\t</ng-container>\n\n\t\t<ng-template #notInline>\n\t\t\t<div class="bx--snippet-container" [attr.aria-label]="translations.CODE_SNIPPET_TEXT">\n\t\t\t\t<ng-container *ngIf="skeleton">\n\t\t\t\t\t<span *ngIf="display === \'single\'; else multiSkeleton"></span>\n\t\t\t\t\t<ng-template #multiSkeleton>\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t</ng-template>\n\t\t\t\t</ng-container>\n\t\t\t\t<pre *ngIf="!skeleton"><ng-container *ngTemplateOutlet="codeTemplate"></ng-container></pre>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\t*ngIf="!skeleton"\n\t\t\t\tclass="bx--snippet-button"\n\t\t\t\t[attr.aria-label]="translations.COPY_CODE"\n\t\t\t\t(click)="onCopyButtonClicked()"\n\t\t\t\ttabindex="0">\n\t\t\t\t<svg ibmIcon="copy" size="16" class="bx--snippet__icon"></svg>\n\t\t\t\t<ng-container *ngTemplateOutlet="feedbackTemplate"></ng-container>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\t*ngIf="shouldShowExpandButton"\n\t\t\t\tclass="bx--btn bx--btn--ghost bx--btn--sm bx--snippet-btn--expand"\n\t\t\t\t(click)="toggleSnippetExpansion()"\n\t\t\t\ttype="button">\n\t\t\t\t<span class="bx--snippet-btn--text">{{expanded ? translations.SHOW_LESS : translations.SHOW_MORE}}</span>\n\t\t\t\t<svg ibmIcon="chevron--down" size="16" class="bx--icon-chevron--down" [ariaLabel]="translations.SHOW_MORE_ICON"></svg>\n\t\t\t</button>\n\t\t</ng-template>\n\n\t\t<ng-template #codeTemplate>\n\t\t\t<code #code><ng-content></ng-content></code>\n\t\t</ng-template>\n\n\t\t<ng-template #feedbackTemplate>\n\t\t\t<div\n\t\t\tclass="bx--btn--copy__feedback"\n\t\t\t[ngClass]="{\n\t\t\t\t\'bx--btn--copy__feedback--displayed\': showFeedback\n\t\t\t}"\n\t\t\t[attr.data-feedback]="feedbackText">\n\t\t\t</div>\n\t\t</ng-template>\n\t'}]}],r.ctorParameters=function(){return[{type:a.I18n}]},r.propDecorators={display:[{type:n.Input}],translations:[{type:n.Input}],theme:[{type:n.Input}],feedbackText:[{type:n.Input}],feedbackTimeout:[{type:n.Input}],expanded:[{type:n.HostBinding,args:["class.bx--snippet--expand"]},{type:n.Input}],skeleton:[{type:n.HostBinding,args:["class.bx--skeleton"]},{type:n.Input}],snippetClass:[{type:n.HostBinding,args:["class.bx--snippet"]}],snippetSingleClass:[{type:n.HostBinding,args:["class.bx--snippet--single"]}],snippetMultiClass:[{type:n.HostBinding,args:["class.bx--snippet--multi"]}],snippetInlineClass:[{type:n.HostBinding,args:["class.bx--snippet--inline"]}],snippetInlineLightClass:[{type:n.HostBinding,args:["class.bx--snippet--light"]}],btnCopyClass:[{type:n.HostBinding,args:["class.bx--btn--copy"]}],displayStyle:[{type:n.HostBinding,args:["style.display"]}],attrType:[{type:n.HostBinding,args:["attr.type"]}],code:[{type:n.ViewChild,args:["code",{"static":!1}]}],hostClick:[{type:n.HostListener,args:["click"]}]},r);function r(t){this.i18n=t,this.display=s.single,this.translations=this.i18n.get().CODE_SNIPPET,this.theme="dark",this.feedbackText=this.translations.COPIED,this.feedbackTimeout=2e3,this.expanded=!1,this.skeleton=!1,this.snippetClass=!0,this.showFeedback=!1,this.hasExpandButton=null,r.codeSnippetCount++}var c=(d.decorators=[{type:n.NgModule,args:[{declarations:[l],exports:[l],imports:[o.CommonModule,e.FormsModule,a.I18nModule,i.IconModule]}]}],d);function d(){}t.CodeSnippet=l,t.CodeSnippetModule=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=carbon-components-angular-code-snippet.umd.min.js.map