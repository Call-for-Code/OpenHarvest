/**
 *
 * carbon-angular v0.0.0 | carbon-components-angular-slider.umd.min.js
 *
 * Copyright 2014, 2021 IBM
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/forms"),require("@angular/core"),require("@angular/common"),require("carbon-components-angular/utils")):"function"==typeof define&&define.amd?define("carbon-components-angular/slider",["exports","@angular/forms","@angular/core","@angular/common","carbon-components-angular/utils"],e):e((t["carbon-components-angular"]=t["carbon-components-angular"]||{},t["carbon-components-angular"].slider={}),t.ng.forms,t.ng.core,t.ng.common,t["carbon-components-angular"].utils)}(this,function(t,e,n,i,s){"use strict";function a(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,s,a=n.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(i=a.next()).done;)o.push(i.value)}catch(r){s={error:r}}finally{try{i&&!i.done&&(n=a["return"])&&n.call(a)}finally{if(s)throw s.error}}return o}(arguments[e]));return t}var o=(Object.defineProperty(r.prototype,"min",{get:function(){return this._min},set:function(t){t&&(this._min=t,this.value=this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this._max},set:function(t){t&&(this._max=t,this.value=this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.isRange()?this._value:this._value[0]},set:function(t){var n=this;"number"!=typeof(t=t||[this.min])&&"string"!=typeof t||(t=[Number(t)]),t[0]<this.min&&(t[0]=this.min),t[0]>this.max&&(t[0]=this.max),this.isRange()&&(this._previousValue[0]!==t[0]&&(t[0]>t[1]-this.step?t[0]=t[1]-this.step:t[0]>this.max?t[0]=this.max:t[0]<this.min&&(t[0]=this.min)),this._previousValue[1]!==t[1]&&(t[1]>this.max?t[1]=this.max:t[1]<this._value[0]+this.step?t[1]=this._value[0]+this.step:t[1]<this.min&&(t[1]=this.min))),this._previousValue=a(this._value),this._value=a(t),this.isRange()&&this.filledTrack?this.updateTrackRangeWidth():this.filledTrack&&(this.filledTrack.nativeElement.style.transform="translate(0%, -50%) "+this.scaleX(this.getFractionComplete(t[0]))),this.inputs&&this.inputs.length&&this.inputs.forEach(function(t,e){t.value=n._value[e].toString()});var e=this.isRange()?t:t[0];this.propagateChange(e),this.valueChange.emit(e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e;var t=this.getInputs();t&&0<t.length&&t.forEach(function(t){return t.disabled=e})},enumerable:!0,configurable:!0}),r.prototype.ngAfterViewInit=function(){var n=this;this.eventService.onDocument("mousemove",this.onMouseMove.bind(this)),this.eventService.onDocument("mouseup",this.onMouseUp.bind(this)),this.value=this.value,this.inputs=this.getInputs(),this.inputs&&0<this.inputs.length&&this.inputs.forEach(function(t,e){t.type="number",t.classList.add("bx--slider-text-input"),t.classList.add("bx--text-input"),t.setAttribute("aria-labelledby",n.bottomRangeId+" "+n.topRangeId),t.value=e<n._value.length?n._value[e].toString():n.max.toString(),n.eventService.on(t,"change",function(t){return n.onChange(t,e)}),0===e&&n.eventService.on(t,"focus",n.onFocus.bind(n))})},r.prototype.trackThumbsBy=function(t,e){return t},r.prototype.registerOnChange=function(t){this.propagateChange=t},r.prototype.registerOnTouched=function(t){this.onTouched=t},r.prototype.writeValue=function(t){this.value=t},r.prototype.getFractionComplete=function(t){if(!this.track)return 0;var e=this.track.nativeElement.getBoundingClientRect().width;return this.convertToPx(t)/e},r.prototype.scaleX=function(t){return"scaleX("+t+")"},r.prototype.convertToValue=function(t){var e=this.max-this.min,n=t/this.track.nativeElement.getBoundingClientRect().width;return Math.round(e*n/this.step)*this.step+this.min},r.prototype.convertToPx=function(t){if(!this.track)return 0;var e=this.track.nativeElement.getBoundingClientRect().width;return t>=this.max?e:t<=this.min?0:Math.round(e*((t-this.min)/(this.max-this.min)))},r.prototype.incrementValue=function(t,e){void 0===t&&(t=1),void 0===e&&(e=0),this._value[e]=this._value[e]+this.step*t,this.value=this.value},r.prototype.decrementValue=function(t,e){void 0===t&&(t=1),void 0===e&&(e=0),this._value[e]=this._value[e]-this.step*t,this.value=this.value},r.prototype.isRange=function(){return 1<this._value.length},r.prototype.updateTrackRangeWidth=function(){var t=this.getFractionComplete(this._value[0]),e=this.getFractionComplete(this._value[1]);this.filledTrack.nativeElement.style.transform="translate("+100*t+"%, -50%) "+this.scaleX(e-t)},r.prototype.onChange=function(t,e){this._value[e]=Number(t.target.value),this.value=this.value},r.prototype.onClick=function(t){var e;this.disabled||(e=this.track.nativeElement.getBoundingClientRect().left,this._value[0]=this.convertToValue(t.clientX-e),this.value=this.value)},r.prototype.onFocus=function(t){t.target.select()},r.prototype.onMouseMove=function(t){var e,n;!this.disabled&&this.isMouseDown&&(e=this.track.nativeElement.getBoundingClientRect(),t.clientX-e.left<=e.width&&0<=t.clientX-e.left&&(n=this.convertToValue(t.clientX-e.left)),t.clientX-e.left>e.width&&(n=this.max),t.clientX-e.left<0&&(n=this.min),n!==undefined&&(this._value[this._focusedThumbIndex]=n,this.value=this.value))},r.prototype.onMouseDown=function(t,e){void 0===e&&(e=0),t.preventDefault(),this.disabled||(this._focusedThumbIndex=e,this.thumbs.toArray()[e].nativeElement.focus(),this.isMouseDown=!0)},r.prototype.onMouseUp=function(){this.isMouseDown=!1},r.prototype.onKeyDown=function(t,e){var n;void 0===e&&(e=0),this.disableArrowKeys||(n=t.shiftKey?this.shiftMultiplier:1,"ArrowLeft"===t.key||"ArrowDown"===t.key?(this.decrementValue(n,e),this.thumbs.toArray()[e].nativeElement.focus(),t.preventDefault()):"ArrowRight"!==t.key&&"ArrowUp"!==t.key||(this.incrementValue(n,e),this.thumbs.toArray()[e].nativeElement.focus(),t.preventDefault()))},r.prototype.isTemplate=function(t){return t instanceof n.TemplateRef},r.prototype.getInputs=function(){return this.elementRef.nativeElement.querySelectorAll("input:not([type=range])")},r.count=0,r.decorators=[{type:n.Component,args:[{selector:"ibm-slider",template:'\n\t\t<ng-container *ngIf="!skeleton; else skeletonTemplate">\n\t\t\t<label *ngIf="label" [for]="id" class="bx--label">\n\t\t\t\t<ng-container *ngIf="!isTemplate(label)">{{label}}</ng-container>\n\t\t\t\t<ng-template *ngIf="isTemplate(label)" [ngTemplateOutlet]="label"></ng-template>\n\t\t\t</label>\n\t\t\t<div class="bx--slider-container">\n\t\t\t\t<label [id]="bottomRangeId" class="bx--slider__range-label">\n\t\t\t\t\t<ng-content select="[minLabel]"></ng-content>\n\t\t\t\t</label>\n\t\t\t\t<div\n\t\t\t\t\tclass="bx--slider"\n\t\t\t\t\t[ngClass]="{\'bx--slider--disabled\': disabled}">\n\t\t\t\t\t<ng-container *ngIf="!isRange()">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t#thumbs\n\t\t\t\t\t\t\trole="slider"\n\t\t\t\t\t\t\t[id]="id"\n\t\t\t\t\t\t\tclass="bx--slider__thumb"\n\t\t\t\t\t\t\t[ngStyle]="{left: getFractionComplete(value) * 100 + \'%\'}"\n\t\t\t\t\t\t\ttabindex="0"\n\t\t\t\t\t\t\t(mousedown)="onMouseDown($event)"\n\t\t\t\t\t\t\t(keydown)="onKeyDown($event)">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ng-container>\n\t\t\t\t\t<ng-container *ngIf="isRange()">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t#thumbs\n\t\t\t\t\t\t\t*ngFor="let thumb of value; let i = index; trackBy: trackThumbsBy"\n\t\t\t\t\t\t\trole="slider"\n\t\t\t\t\t\t\t[id]="id + (i > 0 ? \'-\' + i : \'\')"\n\t\t\t\t\t\t\tclass="bx--slider__thumb"\n\t\t\t\t\t\t\t[ngStyle]="{left: getFractionComplete(thumb) * 100 + \'%\'}"\n\t\t\t\t\t\t\ttabindex="0"\n\t\t\t\t\t\t\t(mousedown)="onMouseDown($event, i)"\n\t\t\t\t\t\t\t(keydown)="onKeyDown($event, i)">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ng-container>\n\t\t\t\t\t<div\n\t\t\t\t\t\t#track\n\t\t\t\t\t\tclass="bx--slider__track"\n\t\t\t\t\t\t(click)="onClick($event)">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\t#filledTrack\n\t\t\t\t\t\tclass="bx--slider__filled-track">\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\t#range\n\t\t\t\t\t\taria-label="slider"\n\t\t\t\t\t\tclass="bx--slider__input"\n\t\t\t\t\t\ttype="range"\n\t\t\t\t\t\t[step]="step"\n\t\t\t\t\t\t[min]="min"\n\t\t\t\t\t\t[max]="max"\n\t\t\t\t\t\t[value]="value.toString()">\n\t\t\t\t</div>\n\t\t\t\t<label [id]="topRangeId" class="bx--slider__range-label">\n\t\t\t\t\t<ng-content select="[maxLabel]"></ng-content>\n\t\t\t\t</label>\n\t\t\t\t<ng-content select="input"></ng-content>\n\t\t\t</div>\n\t\t</ng-container>\n\n\t\t<ng-template #skeletonTemplate>\n\t\t\t<label *ngIf="label" class="bx--label bx--skeleton"></label>\n\t\t\t<div class="bx--slider-container bx--skeleton">\n\t\t\t\t<span class="bx--slider__range-label"></span>\n\t\t\t\t<div class="bx--slider">\n\t\t\t\t\t<div class="bx--slider__thumb"></div>\n\t\t\t\t\t<div class="bx--slider__track"></div>\n\t\t\t\t\t<div class="bx--slider__filled-track"></div>\n\t\t\t\t</div>\n\t\t\t\t<span class="bx--slider__range-label"></span>\n\t\t\t</div>\n\t\t</ng-template>\n\t',providers:[{provide:e.NG_VALUE_ACCESSOR,useExisting:r,multi:!0}]}]}],r.ctorParameters=function(){return[{type:n.ElementRef},{type:s.EventService}]},r.propDecorators={min:[{type:n.Input}],max:[{type:n.Input}],step:[{type:n.Input}],value:[{type:n.Input}],id:[{type:n.Input}],shiftMultiplier:[{type:n.Input}],skeleton:[{type:n.Input}],label:[{type:n.Input}],disableArrowKeys:[{type:n.Input}],disabled:[{type:n.Input}],valueChange:[{type:n.Output}],hostClass:[{type:n.HostBinding,args:["class.bx--form-item"]}],thumbs:[{type:n.ViewChildren,args:["thumbs"]}],track:[{type:n.ViewChild,args:["track",{"static":!1}]}],filledTrack:[{type:n.ViewChild,args:["filledTrack",{"static":!1}]}],range:[{type:n.ViewChild,args:["range",{"static":!1}]}]},r);function r(t,e){this.elementRef=t,this.eventService=e,this.step=1,this.id="slider-"+r.count++,this.shiftMultiplier=4,this.skeleton=!1,this.disableArrowKeys=!1,this.valueChange=new n.EventEmitter,this.hostClass=!0,this.bottomRangeId=this.id+"-bottom-range",this.topRangeId=this.id+"-top-range",this.fractionComplete=0,this.isMouseDown=!1,this._min=0,this._max=100,this._value=[this.min],this._previousValue=[this.min],this._disabled=!1,this._focusedThumbIndex=0,this.propagateChange=function(t){},this.onTouched=function(){}}var l=(u.decorators=[{type:n.NgModule,args:[{declarations:[o],exports:[o],imports:[i.CommonModule,s.UtilsModule]}]}],u);function u(){}t.Slider=o,t.SliderModule=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=carbon-components-angular-slider.umd.min.js.map