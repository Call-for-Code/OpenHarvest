/**
 *
 * carbon-angular v0.0.0 | a11y.js
 *
 * Copyright 2014, 2021 IBM
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


function findSiblingElem(target, direction) {
    if (target[direction]) {
        if (target[direction].classList.contains("disabled")) {
            return findSiblingElem(target[direction], direction);
        }
        return target[direction];
    }
}
export function findNextElem(target) {
    return findSiblingElem(target, "nextElementSibling");
}
export function findPrevElem(target) {
    return findSiblingElem(target, "previousElementSibling");
}
// check for Hight contrast mode
export function HcModeChecker() {
    var colorTest = "rgb(255, 0, 0)";
    var htmlChecker = document.createElement("div");
    htmlChecker.classList.add("hc-checker");
    document.body.appendChild(htmlChecker);
    if (window.getComputedStyle(htmlChecker).backgroundColor.toString() !== colorTest) {
        document.body.classList.add("a11y");
    }
    document.body.removeChild(htmlChecker);
}
export function focusNextTree(elem, rootElem) {
    if (rootElem === void 0) { rootElem = null; }
    if (elem) {
        var focusable = elem.querySelector("[tabindex='0']");
        if (focusable) {
            focusable.focus();
        }
        else {
            focusNextElem(elem, rootElem);
        }
    }
}
export function focusNextElem(elem, rootElem) {
    if (rootElem === void 0) { rootElem = null; }
    if (elem) {
        var nextElem = elem.nextElementSibling;
        if (nextElem) {
            var focusableElem = nextElem.querySelector("[tabindex='0']");
            if (focusableElem) {
                focusableElem.focus();
            }
            else {
                focusNextElem(nextElem, rootElem);
            }
        }
        else {
            if (rootElem) {
                var nextRootElem = rootElem.nextElementSibling;
                if (nextRootElem) {
                    focusNextTree(nextRootElem, rootElem);
                }
            }
        }
    }
}
export function focusPrevElem(elem, parentRef) {
    if (parentRef === void 0) { parentRef = null; }
    if (elem) {
        var prevElem = elem.previousElementSibling;
        if (prevElem) {
            var focusableElem = prevElem.querySelector("[tabindex='0']");
            if (focusableElem) {
                if (focusableElem.getAttribute("aria-expanded") === "true") {
                    var lastFocElms = prevElem.querySelectorAll("[tabindex='0']");
                    var arrLen = lastFocElms.length - 1;
                    for (var i = arrLen; i >= 0; i--) {
                        if (!!(lastFocElms[i].offsetWidth || lastFocElms[i].offsetHeight ||
                            lastFocElms[i].getClientRects().length)) {
                            focusableElem = lastFocElms[i];
                            break;
                        }
                    }
                }
                focusableElem.focus();
            }
            else {
                focusPrevElem(prevElem, parentRef);
            }
        }
        else {
            if (parentRef) {
                parentRef.querySelector("[tabindex='0']").focus();
            }
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYTExeS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2NhcmJvbi1jb21wb25lbnRzLWFuZ3VsYXIvdXRpbHMvIiwic291cmNlcyI6WyJhMTF5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFNBQVMsZUFBZSxDQUFDLE1BQU0sRUFBRSxTQUEwRDtJQUMxRixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtRQUN0QixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQ3JELE9BQU8sZUFBZSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQztTQUNyRDtRQUNELE9BQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0tBQ3pCO0FBQ0YsQ0FBQztBQUVELE1BQU0sVUFBVSxZQUFZLENBQUMsTUFBTTtJQUNsQyxPQUFPLGVBQWUsQ0FBQyxNQUFNLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztBQUN0RCxDQUFDO0FBRUQsTUFBTSxVQUFVLFlBQVksQ0FBQyxNQUFNO0lBQ2xDLE9BQU8sZUFBZSxDQUFDLE1BQU0sRUFBRSx3QkFBd0IsQ0FBQyxDQUFDO0FBQzFELENBQUM7QUFFRCxnQ0FBZ0M7QUFDaEMsTUFBTSxVQUFVLGFBQWE7SUFDNUIsSUFBSSxTQUFTLEdBQUcsZ0JBQWdCLENBQUM7SUFDakMsSUFBSSxXQUFXLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUVoRCxXQUFXLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN4QyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUV2QyxJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLENBQUMsQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLEtBQUssU0FBUyxFQUFFO1FBQ2xGLFFBQVEsQ0FBQyxJQUFJLENBQUMs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aXJlY3Rpb246IFwibmV4dEVsZW1lbnRTaWJsaW5nXCIgfCBcInByZXZpb3VzRWxlbWVudFNpYmxpbmdcIikge1xuXHRpZiAodGFyZ2V0W2RpcmVjdGlvbl0pIHtcblx0XHRpZiAodGFyZ2V0W2RpcmVjdGlvbl0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGlzYWJsZWRcIikpIHtcblx0XHRcdHJldHVybiBmaW5kU2libGluZ0VsZW0odGFyZ2V0W2RpcmVjdGlvbl0sIGRpcmVjdGlvbik7XG5cdFx0fVxuXHRcdHJldHVybiB0YXJnZXRbZGlyZWN0aW9uXTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZE5leHRFbGVtKHRhcmdldCkge1xuXHRyZXR1cm4gZmluZFNpYmxpbmdFbGVtKHRhcmdldCwgXCJuZXh0RWxlbWVudFNpYmxpbmdcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kUHJldkVsZW0odGFyZ2V0KSB7XG5cdHJldHVybiBmaW5kU2libGluZ0VsZW0odGFyZ2V0LCBcInByZXZpb3VzRWxlbWVudFNpYmxpbmdcIik7XG59XG5cbi8vIGNoZWNrIGZvciBIaWdodCBjb250cmFzdCBtb2RlXG5leHBvcnQgZnVuY3Rpb24gSGNNb2RlQ2hlY2tlcigpIHtcblx0bGV0IGNvbG9yVGVzdCA9IFwicmdiKDI1NSwgMCwgMClcIjtcblx0bGV0IGh0bWxDaGVja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuXHRodG1sQ2hlY2tlci5jbGFzc0xpc3QuYWRkKFwiaGMtY2hlY2tlclwiKTtcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChodG1sQ2hlY2tlcik7XG5cblx0aWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGh0bWxDaGVja2VyKS5iYWNrZ3JvdW5kQ29sb3IudG9TdHJpbmcoKSAhPT0gY29sb3JUZXN0KSB7XG5cdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiYTExeVwiKTtcblx0fVxuXHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGh0bWxDaGVja2VyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvY3VzTmV4dFRyZWUoZWxlbSwgcm9vdEVsZW0gPSBudWxsKSB7XG5cdGlmIChlbGVtKSB7XG5cdFx0bGV0IGZvY3VzYWJsZSA9IGVsZW0ucXVlcnlTZWxlY3RvcihcIlt0YWJpbmRleD0nMCddXCIpO1xuXG5cdFx0aWYgKGZvY3VzYWJsZSkge1xuXHRcdFx0Zm9jdXNhYmxlLmZvY3VzKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvY3VzTmV4dEVsZW0oZWxlbSwgcm9vdEVsZW0pO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXNOZXh0RWxlbShlbGVtLCByb290RWxlbSA9IG51bGwpIHtcblx0aWYgKGVsZW0pIHtcblx0XHRsZXQgbmV4dEVsZW0gPSBlbGVtLm5leHRFbGVtZW50U2libGluZztcblxuXHRcdGlmIChuZXh0RWxlbSkge1xuXHRcdFx0bGV0IGZvY3VzYWJsZUVsZW0gPSBuZXh0RWxlbS5xdWVyeVNlbGVjdG9yKFwiW3RhYmluZGV4PScwJ11cIik7XG5cblx0XHRcdGlmIChmb2N1c2FibGVFbGVtKSB7XG5cdFx0XHRcdGZvY3VzYWJsZUVsZW0uZm9jdXMoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvY3VzTmV4dEVsZW0obmV4dEVsZW0sIHJvb3RFbGVtKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHJvb3RFbGVtKSB7XG5cdFx0XHRcdGxldCBuZXh0Um9vdEVsZW0gPSByb290RWxlbS5uZXh0RWxlbWVudFNpYmxpbmc7XG5cblx0XHRcdFx0aWYgKG5leHRSb290RWxlbSkge1xuXHRcdFx0XHRcdGZvY3VzTmV4dFRyZWUobmV4dFJvb3RFbGVtLCByb290RWxlbSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvY3VzUHJldkVsZW0oZWxlbSwgcGFyZW50UmVmID0gbnVsbCkge1xuXHRpZiAoZWxlbSkge1xuXHRcdGxldCBwcmV2RWxlbSA9IGVsZW0ucHJldmlvdXNFbGVtZW50U2libGluZztcblxuXHRcdGlmIChwcmV2RWxlbSkge1xuXHRcdFx0bGV0IGZvY3VzYWJsZUVsZW0gPSBwcmV2RWxlbS5xdWVyeVNlbGVjdG9yKFwiW3RhYmluZGV4PScwJ11cIik7XG5cdFx0XHRpZiAoZm9jdXNhYmxlRWxlbSkge1xuXG5cdFx0XHRcdGlmIChmb2N1c2FibGVFbGVtLmdldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIikgPT09IFwidHJ1ZVwiKSB7XG5cdFx0XHRcdFx0bGV0IGxhc3RGb2NFbG1zID0gcHJldkVsZW0ucXVlcnlTZWxlY3RvckFsbChcIlt0YWJpbmRleD0nMCddXCIpO1xuXHRcdFx0XHRcdGxldCBhcnJMZW4gPSBsYXN0Rm9jRWxtcy5sZW5ndGggLSAxO1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSBhcnJMZW47IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdFx0XHRpZiAoISEobGFzdEZvY0VsbXNbaV0ub2Zmc2V0V2lkdGggfHwgbGFzdEZvY0VsbXNbaV0ub2Zmc2V0SGVpZ2h0IHx8XG5cdFx0XHRcdFx0XHRcdGxhc3RGb2NFbG1zW2ldLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0XHRmb2N1c2FibGVFbGVtID0gbGFzdEZvY0VsbXNbaV07XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRmb2N1c2FibGVFbGVtLmZvY3VzKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb2N1c1ByZXZFbGVtKHByZXZFbGVtLCBwYXJlbnRSZWYpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAocGFyZW50UmVmKSB7XG5cdFx0XHRcdHBhcmVudFJlZi5xdWVyeVNlbGVjdG9yKFwiW3RhYmluZGV4PScwJ11cIikuZm9jdXMoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiJdfQ==