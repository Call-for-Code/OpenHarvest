/**
 *
 * carbon-angular v0.0.0 | table-header-item.class.js
 *
 * Copyright 2014, 2021 IBM
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


export class TableHeaderItem {
    /**
     * Creates an instance of TableHeaderItem.
     */
    constructor(rawData) {
        /**
         * Defines if column under this TableHeaderItem should be displayed.
         *
         */
        this.visible = true;
        /**
         * Disables sorting by default.
         *
         */
        this.sorted = false;
        /**
         * Enables sorting on click by default.
         * If false then this column won't show a sorting arrow at all.
         *
         */
        this.sortable = true;
        /**
         * Number of applied filters.
         *
         * `filter()` should set it to appropriate number.
         *
         */
        this.filterCount = 0;
        /**
         * The number of rows to span
         * **NOTE:** not supported by the default carbon table
         */
        this.rowSpan = 1;
        /**
         * The number of columns to span
         */
        this.colSpan = 1;
        /**
         * Style for the column, applied to every element in the column.
         *
         * ngStyle-like format
         *
         */
        this.style = {};
        /**
         * used in `ascending`
         *
         * @protected
         */
        this._ascending = true;
        // defaults so we dont leave things empty
        const defaults = {
            data: "",
            visible: this.visible,
            style: this.style,
            filterCount: this.filterCount,
            filterData: { data: "" }
        };
        // fill our object with provided props, and fallback to defaults
        const data = Object.assign({}, defaults, rawData);
        for (let property of Object.getOwnPropertyNames(data)) {
            if (data.hasOwnProperty(property)) {
                this[property] = data[property];
            }
        }
    }
    /**
     * If true, sort is set to ascending, if false descending will be true.
     *
     */
    set ascending(asc) {
        this._ascending = asc;
    }
    get ascending() {
        return this._ascending;
    }
    /**
     * If true, sort is set to descending, if false ascending will be true.
     *
     */
    set descending(desc) {
        this._ascending = !desc;
    }
    get descending() {
        return !this._ascending;
    }
    /**
     * Used for sorting rows of the table.
     *
     * Override to enable different sorting.
     *
     * < 0 if `one` should go before `two`
     * > 0 if `one` should go after `two`
     * 0 if it doesn't matter (they are the same)
     */
    compare(one, two) {
        if (!one || !two) {
            return 0;
        }
        if (typeof one.data === "string") {
            return one.data.localeCompare(two.data);
        }
        if (one.data < two.data) {
            return -1;
        }
        else if (one.data > two.data) {
            return 1;
        }
        else {
            return 0;
        }
    }
    /**
     * Used to filter rows in the table.
     *
     * Override to make a custom filter.
     *
     * Even though there is just one filter function, there can be multiple filters.
     * When implementing filter, set `filterCount` before returning.
     *
     * `true` to hide the row
     * `false` to show the row
     */
    filter(item) {
        this.filterCount = 0;
        return false;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUtaGVhZGVyLWl0ZW0uY2xhc3MuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9jYXJib24tY29tcG9uZW50cy1hbmd1bGFyL3RhYmxlLyIsInNvdXJjZXMiOlsidGFibGUtaGVhZGVyLWl0ZW0uY2xhc3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBTUEsTUFBTSxPQUFPLGVBQWU7SUEyTTNCOztPQUVHO0lBQ0gsWUFBWSxPQUFhO1FBN016Qjs7O1dBR0c7UUFDSCxZQUFPLEdBQUcsSUFBSSxDQUFDO1FBRWY7OztXQUdHO1FBQ0gsV0FBTSxHQUFHLEtBQUssQ0FBQztRQUVmOzs7O1dBSUc7UUFDSCxhQUFRLEdBQUcsSUFBSSxDQUFDO1FBRWhCOzs7OztXQUtHO1FBQ0gsZ0JBQVcsR0FBRyxDQUFDLENBQUM7UUFFaEI7OztXQUdHO1FBQ0gsWUFBTyxHQUFHLENBQUMsQ0FBQztRQUVaOztXQUVHO1FBQ0gsWUFBTyxHQUFHLENBQUMsQ0FBQztRQVFaOzs7OztXQUtHO1FBQ0gsVUFBSyxHQUFHLEVBQUUsQ0FBQztRQWlKWDs7OztXQUlHO1FBQ08sZUFBVSxHQUFHLElBQUksQ0FBQztRQU0zQix5Q0FBeUM7UUFDekMsTUFBTSxRQUFRLEdBQUc7WUFDaEIsSUFBSSxFQUFFLEVBQUU7WUFDUixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87WUFDckIsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO1lBQ2pCLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVztZQUM3QixVQUFVLEVBQUUsRUFBQyxJQUFJLEVBQUUsRUFBRSxFQUFDO1NBQ3RCLENBQUM7UUFDRixnRUFBZ0U7UUFDaEUsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ2xELEtBQUssSUFBSSxRQUFRLElBQUksTUFBTSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3RELElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsRUFBRTtnQkFDbEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUNoQztTQUNEO0lBQ0YsQ0FBQztJQXpLRDs7O09BR0c7SUFDSCxJQUFJLFNBQVMsQ0FBQyxHQUFHO1FBQ2hCLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO0lBQ3ZCLENBQUM7SUFDRCxJQUFJLFNBQVM7UUFDWixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDeEIsQ0FBQztJQUVEOzs7T0FHRztJQUNILElBQUksVUFBVSxDQUFDLElBQUk7UUFDbEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLElBQUksQ0FBQztJQUN6QixDQUFDO0lBQ0QsSUFBSSxVQUFVO1FBQ2IsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDekIsQ0FBQztJQXVKRDs7Ozs7Ozs7T0FRRztJQUNILE9BQU8sQ0FBQyxHQUFjLEVBQUUsR0FBYztRQUNyQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ2pCLE9BQU8sQ0FBQyxDQUFDO1NBQ1Q7UUFFRCxJQUFJLE9BQU8sR0FBRyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7WUFDakMsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDeEM7UUFFRCxJQUFJLEdBQUcsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksRUFBRTtZQUN4QixPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQ1Y7YUFBTSxJQUFJLEdBQUcsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksRUFBRTtZQUMvQixPQUFPLENBQUMsQ0FBQztTQUNUO2FBQU07WUFDTixPQUFPLENBQUMsQ0FBQztTQUNUO0lBQ0YsQ0FBQztJQUVEOzs7Ozs7Ozs7O09BVUc7SUFDSCxNQUFNLENBQUMsSUFBZTtRQUNyQixJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztRQUNyQixPQUFPLEtBQUssQ0FBQztJQUNkLENBQUM7Q0FDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRhYmxlSXRlbSB9IGZyb20gXCIuL3RhYmxlLWl0ZW0uY2xhc3NcIjtcbmltcG9ydCB7XG5cdEV2ZW50RW1pdHRlcixcblx0VGVtcGxhdGVSZWZcbn0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcblxuZXhwb3J0IGNsYXNzIFRhYmxlSGVhZGVySXRlbSB7XG5cdC8qKlxuXHQgKiBEZWZpbmVzIGlmIGNvbHVtbiB1bmRlciB0aGlzIFRhYmxlSGVhZGVySXRlbSBzaG91bGQgYmUgZGlzcGxheWVkLlxuXHQgKlxuXHQgKi9cblx0dmlzaWJsZSA9IHRydWU7XG5cblx0LyoqXG5cdCAqIERpc2FibGVzIHNvcnRpbmcgYnkgZGVmYXVsdC5cblx0ICpcblx0ICovXG5cdHNvcnRlZCA9IGZhbHNlO1xuXG5cdC8qKlxuXHQgKiBFbmFibGVzIHNvcnRpbmcgb24gY2xpY2sgYnkgZGVmYXVsdC5cblx0ICogSWYgZmFsc2UgdGhlbiB0aGlzIGNvbHVtbiB3b24ndCBzaG93IGEgc29ydGluZyBhcnJvdyBhdCBhbGwuXG5cdCAqXG5cdCAqL1xuXHRzb3J0YWJsZSA9IHRydWU7XG5cblx0LyoqXG5cdCAqIE51bWJlciBvZiBhcHBsaWVkIGZpbHRlcnMuXG5cdCAqXG5cdCAqIGBmaWx0ZXIoKWAgc2hvdWxkIHNldCBpdCB0byBhcHByb3ByaWF0ZSBudW1iZXIuXG5cdCAqXG5cdCAqL1xuXHRmaWx0ZXJDb3VudCA9IDA7XG5cblx0LyoqXG5cdCAqIFRoZSBudW1iZXIgb2Ygcm93cyB0byBzcGFuXG5cdCAqICoqTk9URToqKiBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBkZWZhdWx0IGNhcmJvbiB0YWJsZVxuXHQgKi9cblx0cm93U3BhbiA9IDE7XG5cblx0LyoqXG5cdCAqIFRoZSBudW1iZXIgb2YgY29sdW1ucyB0byBzcGFuXG5cdCAqL1xuXHRjb2xTcGFuID0gMTtcblxuXHQvKipcblx0ICogQXR0YWNoIGEgY2xhc3MgdG8gdGhlIGNvbHVtbiwgYm90aCB0aGUgaGVhZGVyIGFuZCBjb2x1bW4gY2VsbHMuXG5cdCAqXG5cdCAqL1xuXHRjbGFzc05hbWU6IHN0cmluZztcblxuXHQvKipcblx0ICogU3R5bGUgZm9yIHRoZSBjb2x1bW4sIGFwcGxpZWQgdG8gZXZlcnkgZWxlbWVudCBpbiB0aGUgY29sdW1uLlxuXHQgKlxuXHQgKiBuZ1N0eWxlLWxpa2UgZm9ybWF0XG5cdCAqXG5cdCAqL1xuXHRzdHlsZSA9IHt9O1xuXG5cdC8qKlxuXHQgKiBJZiB0cnVlLCBzb3J0IGlzIHNldCB0byBhc2NlbmRpbmcsIGlmIGZhbHNlIGRlc2NlbmRpbmcgd2lsbCBiZSB0cnVlLlxuXHQgKlxuXHQgKi9cblx0c2V0IGFzY2VuZGluZyhhc2MpIHtcblx0XHR0aGlzLl9hc2NlbmRpbmcgPSBhc2M7XG5cdH1cblx0Z2V0IGFzY2VuZGluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5fYXNjZW5kaW5nO1xuXHR9XG5cblx0LyoqXG5cdCAqIElmIHRydWUsIHNvcnQgaXMgc2V0IHRvIGRlc2NlbmRpbmcsIGlmIGZhbHNlIGFzY2VuZGluZyB3aWxsIGJlIHRydWUuXG5cdCAqXG5cdCAqL1xuXHRzZXQgZGVzY2VuZGluZyhkZXNjKSB7XG5cdFx0dGhpcy5fYXNjZW5kaW5nID0gIWRlc2M7XG5cdH1cblx0Z2V0IGRlc2NlbmRpbmcoKSB7XG5cdFx0cmV0dXJuICF0aGlzLl9hc2NlbmRpbmc7XG5cdH1cblxuXHQvKipcblx0ICogRGF0YSBmb3IgdGhlIGhlYWRlciBpdGVtLlxuXHQgKi9cblx0ZGF0YTogYW55O1xuXG5cdC8qKlxuXHQgKiBEYXRhIGZvciB0aGUgaGVhZGVyIGl0ZW0gZm9yIGdlbmVyYWwgdXNhZ2UgaW4gdGhlIGNvbnRyb2xsZXIuXG5cdCAqIEZvciBleGFtcGxlLCB3aGljaCBgZmllbGRgIGlzIHRoaXMgY29sdW1uIHJlbGF0ZWQgdG8uXG5cdCAqL1xuXHRtZXRhZGF0YTogYW55O1xuXG5cdC8qKlxuXHQgKiBVc2VkIHRvIGRpc3BsYXkgZGF0YSBpbiBhIGRlc2lyZWQgd2F5LlxuXHQgKlxuXHQgKiBJZiBub3QgcHJvdmlkZWQsIGRpc3BsYXlzIGRhdGEgYXMgYSBzaW1wbGUgc3RyaW5nLlxuXHQgKlxuXHQgKiBVc2FnZTpcblx0ICpcblx0ICogSW4gYSBjb21wb25lbnQgd2hlcmUgeW91J3JlIHVzaW5nIHRoZSB0YWJsZSBjcmVhdGUgYSB0ZW1wbGF0ZSBsaWtlOlxuXHQgKlxuXHQgKiBgYGBodG1sXG5cdCAqIDxuZy10ZW1wbGF0ZSAjY3VzdG9tSGVhZGVyVGVtcGxhdGUgbGV0LWRhdGE9XCJkYXRhXCI+XG5cdCAqIFx0XHQ8aT48YSBbcm91dGVyTGlua109XCJkYXRhLmxpbmtcIj57e2RhdGEubmFtZX19PC9hPjwvaT5cblx0ICogPC9uZy10ZW1wbGF0ZT5cblx0ICogYGBgXG5cdCAqIHdoZXJlIHdlIGFzc3VtZSB5b3VyIGRhdGEgY29udGFpbnMgYGxpbmtgIGFuZCBgbmFtZWAuIGBsZXQtZGF0YT1cImRhdGFcImAgaXNcblx0ICogbmVjZXNzYXJ5IGZvciB5b3UgdG8gYmUgYWJsZSB0byBhY2Nlc3MgaXRlbSdzIGRhdGEgaW4gdGhlIHRlbXBsYXRlLlxuXHQgKlxuXHQgKiBDcmVhdGUgYFZpZXdDaGlsZGAgcHJvcGVydHkgd2l0aDpcblx0ICpcblx0ICogYGBgdHlwZXNjcmlwdFxuXHQgKiAoYXQpVmlld0NoaWxkKFwiY3VzdG9tSGVhZGVyVGVtcGxhdGVcIilcblx0ICogcHJvdGVjdGVkIGN1c3RvbUhlYWRlclRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXHQgKiBgYGBcblx0ICpcblx0ICogU2V0IHRoZSB0ZW1wbGF0ZSB0byB0aGUgaGVhZGVyIGl0ZW0sIGZvciBleGFtcGxlOlxuXHQgKlxuXHQgKiBgYGB0eXBlc2NyaXB0XG5cdCAqIHRoaXMubW9kZWwuaGVhZGVyID0gW1xuXHQgKiBcdFx0bmV3IFRhYmxlSGVhZGVySXRlbSh7ZGF0YToge25hbWU6IFwiQ3VzdG9tIGhlYWRlclwiLCBsaW5rOiBcIi90YWJsZVwifSwgdGVtcGxhdGU6IHRoaXMuY3VzdG9tSGVhZGVyVGVtcGxhdGV9KVxuXHQgKiBdO1xuXHQgKiBgYGBcblx0ICovXG5cdHRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG5cdC8qKlxuXHQgKiBUaGUgbGFiZWwgZm9yIHRoZSBzb3J0IGJ1dHRvblxuXHQgKi9cblx0YXJpYVNvcnRMYWJlbDogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGZvcm1hdCB0aGUgc29ydCBsYWJlbC4gV2lsbCBiZSBoZWF2aWx5IGNhbGxlZC5cblx0ICovXG5cdGZvcm1hdFNvcnRMYWJlbDogKGxhYmVsOiBzdHJpbmcsIHN0YXRpY0xhYmVsPzogc3RyaW5nKSA9PiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFVzZWQgYXMgYSB0ZW1wbGF0ZSBmb3IgcG9wb3ZlciBmaWx0ZXIuXG5cdCAqXG5cdCAqIGBsZXQtcG9wb3Zlcj1cInBvcG92ZXJcImAgd2lsbCBnaXZlIHlvdSBhY2Nlc3MgdG8gcG9wb3ZlciBjb21wb25lbnQgYW5kIGFsbG93IHlvdSB0b1xuXHQgKiBtYW5pcHVsYXRlIGl0IGlmIG5lZWRlZC5cblx0ICpcblx0ICogYGxldC1maWx0ZXI9XCJmaWx0ZXJcImAgd2lsbCBnaXZlIHlvdSBhY2Nlc3MgdG8gdGhlIFwiZmlsdGVyXCIuIFRoZSBtYWluIHRha2Vhd2F5IGlzXG5cdCAqIHN0b3JlIHRoZSBkYXRhIHlvdSBuZWVkIHRvIGBmaWx0ZXIuZGF0YWAuIFlvdSB3aWxsIGJlIGFibGUgdG8gYWNjZXNzIGl0IGFzXG5cdCAqIGB0aGlzLmZpbHRlckRhdGEuZGF0YWAgZnJvbSB5b3VyIGBmaWx0ZXIoKWAgZnVuY3Rpb24gd2hlbiB5b3UgZXh0ZW5kIGBUYWJsZUhlYWRlckl0ZW1gXG5cdCAqXG5cdCAqIEV4YW1wbGU6XG5cdCAqIGBgYGh0bWxcblx0ICogPG5nLXRlbXBsYXRlICNmaWx0ZXIgbGV0LXBvcG92ZXI9XCJwb3BvdmVyXCI+XG5cdCAqIFx0PGlibS1sYWJlbCBjbGFzcz1cImZpcnN0LWxhYmVsXCI+XG5cdCAqIFx0XHRWYWx1ZVxuXHQgKiBcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgWyhuZ01vZGVsKV09XCJmaWx0ZXIxXCIgY2xhc3M9XCJpbnB1dC1maWVsZFwiPlxuXHQgKiBcdDwvaWJtLWxhYmVsPlxuXHQgKiA8L25nLXRlbXBsYXRlPlxuXHQgKlxuXHQgKiA8bmctdGVtcGxhdGUgI2ZpbHRlckZvb3RlciBsZXQtcG9wb3Zlcj1cInBvcG92ZXJcIiBsZXQtZmlsdGVyPVwiZGF0YVwiPlxuXHQgKiBcdDxidXR0b24gY2xhc3M9XCJidG4tLXByaW1hcnlcIiAoY2xpY2spPVwiZmlsdGVyLmRhdGEgPSBmaWx0ZXIxOyBwb3BvdmVyLm9uQ2xvc2UoKVwiPkFwcGx5PC9idXR0b24+XG5cdCAqIFx0PGJ1dHRvbiBjbGFzcz1cImJ0bi0tc2Vjb25kYXJ5XCIgKGNsaWNrKT1cInBvcG92ZXIub25DbG9zZSgpXCI+Q2FuY2VsPC9idXR0b24+XG5cdCAqIDwvbmctdGVtcGxhdGU+XG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBTZXQgdGhlIHRlbXBsYXRlIHdpdGgsIGZvciBleGFtcGxlOlxuXHQgKiBgYGB0eXBlc2NyaXB0XG5cdCAqIG5ldyBGaWx0ZXJhYmxlSGVhZGVySXRlbSh7XG5cdCAqIFx0ZmlsdGVyVGVtcGxhdGU6IHRoaXMuZmlsdGVyLFxuXHQgKlx0ZmlsdGVyRm9vdGVyOiB0aGlzLmZpbHRlckZvb3RlclxuXHQgKiB9KVxuXHQgKiBgYGBcblx0ICpcblx0ICogYGBgdHlwZXNjcmlwdFxuXHQgKiBjbGFzcyBGaWx0ZXJhYmxlSGVhZGVySXRlbSBleHRlbmRzIFRhYmxlSGVhZGVySXRlbSB7XG5cdCAqIFx0Ly8gY3VzdG9tIGZpbHRlciBmdW5jdGlvblxuXHQgKiBcdGZpbHRlcihpdGVtOiBUYWJsZUl0ZW0pOiBib29sZWFuIHtcblx0ICogXHRcdGlmICh0eXBlb2YgaXRlbS5kYXRhID09PSBcInN0cmluZ1wiICYmIGl0ZW0uZGF0YS5pbmRleE9mKHRoaXMuZmlsdGVyRGF0YS5kYXRhKSA+PSAwKSB7XG5cdCAqIFx0XHRcdHRoaXMuZmlsdGVyQ291bnQgPSAxO1xuXHQgKiBcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdCAqIFx0XHR9XG5cdCAqIFx0XHR0aGlzLmZpbHRlckNvdW50ID0gMDtcblx0ICogXHRcdHJldHVybiB0cnVlO1xuXHQgKiBcdH1cblx0ICogfVxuXHQgKiBgYGBcblx0ICovXG5cdGZpbHRlclRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG5cdC8qKlxuXHQgKiBVc2VkIGFsb25nIHdpdGggYGZpbHRlclRlbXBsYXRlYCB0byBjb25zdHJ1Y3QgdGhlIGZpbHRlciBwb3BvdmVyXG5cdCAqL1xuXHRmaWx0ZXJGb290ZXI6IFRlbXBsYXRlUmVmPGFueT47XG5cblx0LyoqXG5cdCAqIFRoaXMgaXMgd2hlcmUgeW91IHN0b3JlIHlvdXIgZGF0YSB3aGVuIGFwcGx5aW5nIGZpbHRlci5cblx0ICpcblx0ICogSXQgaXMgdGhlIGFjdHVhbCBvYmplY3QgeW91IGhhdmUgYWNjZXNzIHRvIHdpdGggYGxldC1maWx0ZXI9XCJkYXRhXCJgIGluIHlvdXIgdGVtcGxhdGUuXG5cdCAqXG5cdCAqIE1ha2Ugc3VyZSB0byBzdG9yZSBkYXRhIGluIGBmaWx0ZXIuZGF0YWAgaW4geW91ciB0ZW1wbGF0ZSwgYW5kIHlvdSB3aWxsIGhhdmUgaXRcblx0ICogYXZhaWxhYmxlIGluIGBmaWx0ZXJEYXRhLmRhdGFgIGluIHlvdXIgZXh0ZW5zaW9uIG9mIGBUYWJsZUhlYWRlckl0ZW1gLlxuXHQgKlxuXHQgKiBCZWNhdXNlIGFuZ3VsYXIgYW5kIG9iamVjdCByZWZlcmVuY2VzLlxuXHQgKi9cblx0ZmlsdGVyRGF0YTogYW55O1xuXG5cdC8qKlxuXHQgKiB1c2VkIGluIGBhc2NlbmRpbmdgXG5cdCAqXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHByb3RlY3RlZCBfYXNjZW5kaW5nID0gdHJ1ZTtcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBUYWJsZUhlYWRlckl0ZW0uXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihyYXdEYXRhPzogYW55KSB7XG5cdFx0Ly8gZGVmYXVsdHMgc28gd2UgZG9udCBsZWF2ZSB0aGluZ3MgZW1wdHlcblx0XHRjb25zdCBkZWZhdWx0cyA9IHtcblx0XHRcdGRhdGE6IFwiXCIsXG5cdFx0XHR2aXNpYmxlOiB0aGlzLnZpc2libGUsXG5cdFx0XHRzdHlsZTogdGhpcy5zdHlsZSxcblx0XHRcdGZpbHRlckNvdW50OiB0aGlzLmZpbHRlckNvdW50LFxuXHRcdFx0ZmlsdGVyRGF0YToge2RhdGE6IFwiXCJ9XG5cdFx0fTtcblx0XHQvLyBmaWxsIG91ciBvYmplY3Qgd2l0aCBwcm92aWRlZCBwcm9wcywgYW5kIGZhbGxiYWNrIHRvIGRlZmF1bHRzXG5cdFx0Y29uc3QgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCByYXdEYXRhKTtcblx0XHRmb3IgKGxldCBwcm9wZXJ0eSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkYXRhKSkge1xuXHRcdFx0aWYgKGRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG5cdFx0XHRcdHRoaXNbcHJvcGVydHldID0gZGF0YVtwcm9wZXJ0eV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFVzZWQgZm9yIHNvcnRpbmcgcm93cyBvZiB0aGUgdGFibGUuXG5cdCAqXG5cdCAqIE92ZXJyaWRlIHRvIGVuYWJsZSBkaWZmZXJlbnQgc29ydGluZy5cblx0ICpcblx0ICogPCAwIGlmIGBvbmVgIHNob3VsZCBnbyBiZWZvcmUgYHR3b2Bcblx0ICogPiAwIGlmIGBvbmVgIHNob3VsZCBnbyBhZnRlciBgdHdvYFxuXHQgKiAwIGlmIGl0IGRvZXNuJ3QgbWF0dGVyICh0aGV5IGFyZSB0aGUgc2FtZSlcblx0ICovXG5cdGNvbXBhcmUob25lOiBUYWJsZUl0ZW0sIHR3bzogVGFibGVJdGVtKTogbnVtYmVyIHtcblx0XHRpZiAoIW9uZSB8fCAhdHdvKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIG9uZS5kYXRhID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gb25lLmRhdGEubG9jYWxlQ29tcGFyZSh0d28uZGF0YSk7XG5cdFx0fVxuXG5cdFx0aWYgKG9uZS5kYXRhIDwgdHdvLmRhdGEpIHtcblx0XHRcdHJldHVybiAtMTtcblx0XHR9IGVsc2UgaWYgKG9uZS5kYXRhID4gdHdvLmRhdGEpIHtcblx0XHRcdHJldHVybiAxO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVXNlZCB0byBmaWx0ZXIgcm93cyBpbiB0aGUgdGFibGUuXG5cdCAqXG5cdCAqIE92ZXJyaWRlIHRvIG1ha2UgYSBjdXN0b20gZmlsdGVyLlxuXHQgKlxuXHQgKiBFdmVuIHRob3VnaCB0aGVyZSBpcyBqdXN0IG9uZSBmaWx0ZXIgZnVuY3Rpb24sIHRoZXJlIGNhbiBiZSBtdWx0aXBsZSBmaWx0ZXJzLlxuXHQgKiBXaGVuIGltcGxlbWVudGluZyBmaWx0ZXIsIHNldCBgZmlsdGVyQ291bnRgIGJlZm9yZSByZXR1cm5pbmcuXG5cdCAqXG5cdCAqIGB0cnVlYCB0byBoaWRlIHRoZSByb3dcblx0ICogYGZhbHNlYCB0byBzaG93IHRoZSByb3dcblx0ICovXG5cdGZpbHRlcihpdGVtOiBUYWJsZUl0ZW0pOiBib29sZWFuIHtcblx0XHR0aGlzLmZpbHRlckNvdW50ID0gMDtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cbiJdfQ==